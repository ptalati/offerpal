<div ng-controller="TransactionController" ng-init="loadDefault()">
	<h1>Transactions</h1>
	
	<div class="alert alert-danger" role="alert" ng-show="error.Status">{{error.Message}}</div>
	<div class="alert alert-success" role="alert" ng-show="success.Status"><p ng-bind-html="renderHtml(success.Message)"></p></div>
 
	<div class="table-responsive">
		<table datatable="" class="table table-hover table-striped table-bordered">
		    <thead>
			    <tr>
			        <th>ID</th>
			        <th>User</th>
			        <th>Store</th>
			        <th>Reference #</th>
			        <th style="text-align: center;">Points</th>
			        <th style="text-align: center;">Date &amp; Time</th>
			        <th style="text-align: center;">Status</th>
			        <th>&nbsp;</th>
			    </tr>
		    </thead>
		    
		    <tbody>
			    <tr ng-repeat="t in transactions">
			        <td>{{t.Id}}</td>
			        <td>{{t.User.FirstName}} {{t.User.LastName}}</td>
			        <td>{{t.Activity.Store.Name}}</td>
			        <td>{{t.Activity.ReferenceKey}}</td>
			        <td style="text-align: right;">{{t.RewardPoint | currency:"&#8377;":2}}</td>
			        <td style="text-align: center;">{{formatDateTime(t.EstimatedDate)}}</td>
			        <td style="text-align: center;">{{t.Status.Name}}</td>
			        <td style="text-align: center;">
			        	<a href="javascript:void(0);" ng-click="acceptTransaction(t)"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></a>&nbsp;
			        	<a href="javascript:void(0);" ng-click="rejectTransaction(t)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>&nbsp;
			        	<a href="javascript:void(0);" ng-click="deleteTransaction(t)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
			        </td>
			    </tr>
		    </tbody>
		</table>
	</div>
</div>